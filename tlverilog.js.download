(function(a){if(typeof exports=="object"&&typeof module=="object"){a(require("../../lib/codemirror"))}else{if(typeof define=="function"&&define.amd){define(["../../lib/codemirror"],a)}else{a(CodeMirror)}}})(function(a){a.defineMode("svx",function(x){var p=x.indentUnit;var m={"\\TLV":"keyword","\\SV":"keyword",m4:"def",M4:"def","\\TLV_version":"keyword"};var d={"**":"variable-2","*":"variable-2","$$":"variable","$":"variable","^^":"attribute","^":"attribute"};var e={">":"property","->":"property","-":"hr","|":"link","?$":"qualifier","?*":"qualifier","@-":"variable-3","@":"variable-3","?":"qualifier"};var f=/\d[0-9_]*/;var l=/\d*\s*'s?d\s*\d[0-9_]*/i;var t=/\d*\s*'s?b\s*[xz01][xz01_]*/i;var r=/\d*\s*'s?o\s*[xz0-7][xz0-7_]*/i;var w=/\d*\s*'s?h\s*[0-9a-fxz?][0-9a-fxz?_]*/i;var c=/(\d[\d_]*(\.\d[\d_]*)?E-?[\d_]+)|(\d[\d_]*\.\d[\d_]*)/i;var n=/[\[\]=:]/;var s;var g;function y(E,D){var A=D.context;if(D.startOfLine){g="";D.startOfLine=false}var C=E.next();if(C=='"'){D.tokenize=j(C);return D.tokenize(E,D)}if((E.pos==1)&&(/\\SV/.test(E.string))){g="ch";s=E.string;if(/\\TLV_version/.test(E.string)){s="\\TLV_version"}E.skipToEnd();if(s=="\\SV"){D.tokenize=k;return m[s]}if(m.propertyIsEnumerable(s)){return m[s]}return"builtin"}if(/[\[\]{}\(\);\:]/.test(C)){s=C;return"meta"}if(E.match(c)||E.match(l)||E.match(t)||E.match(r)||E.match(w)||E.match(f)||E.match(c)){s=E.current();var B=(/@/.test(s.charAt(0)))?e[s.charAt(0)]:(((/\b[mM]4+?/.test(s)))?m[s]:"number");g=(g==""&&(B!="number"))?"ch":"kp";if(B=="def"){E.skipTo("(")}return B}if(C=="/"){if(E.eat("*")){D.tokenize=o;return o(E,D)}if(E.eat("/")){E.skipToEnd();return"comment"}}if((C=="!")&&E.pos==1){E.eat("!");return"comment"}if(n.test(C)){E.eatWhile(n);return"operator"}if((g!="")&&(C=="#")){E.eatWhile(/#[+-]\d/);s=E.current();g="ch";return"tag"}if((/\.\.\.;/.test(E.string))){g="kp";s=E.string;return"builtin"}E.match(/[a-zA-Z_0-9]+/);s=E.current();var z=s.charAt(0);var B;if(d.propertyIsEnumerable(z)){g=(g=="")?"kp":g;B=d[z];return B}if(e.propertyIsEnumerable(z)){g=(g=="")?"ch":g;B=e[z];return B}if(E.match(/^[A-Z0-9]+/)){g="kp";return"def"}return"builtin"}function j(z){return function(E,C){var D=false,B,A=false;while((B=E.next())!=null){if(B==z&&!D){A=true;break}D=!D&&B=="\\"}if(A||!(D||z=="`")){C.tokenize=y}return"string"}}function o(C,B){var z=false,A;while(A=C.next()){if(A=="/"&&z){B.tokenize=null;break}z=(A=="*")}return"comment"}function b(C,B){var z=false,A;while(A=C.next()){if(A=="/"&&z){B.tokenize=k;break}z=(A=="*")}return"comment"}function k(B,A){var z;while(z=B.next()){if(z=="\\"&&B.pos==1&&/[\\TLV]/.test(B.string)){B.backUp(1);A.tokenize=null;break}if((z=="/")&&B.eat("*")){A.tokenize=b;return b(B,A)}}return"atom"}function q(D,z,C,A,B){this.indented=D;this.column=z;this.align=C;this.prev=A;this.punc=B;this.doIndent=false}function h(z,A){return z.context=new q(z.indented,z.column,false,z.context,A)}function u(A){var z=A.context.punc;A.indented=A.context.indented;return A.context=A.context.prev}function v(z){z.context=z.context.prev;z.context=z.context.prev;z.indented=z.context.indented;return z.context}function i(A){var z=A.context.column;while(z!=0){A.context=A.context.prev;z=A.context.column}A.column=A.context.column;return A.context}return{startState:function(z){return{tokenize:null,context:new q((z||0)-p,0,"top",null,""),indented:0,startOfLine:true}},token:function(F,D){var A=D.context;if(F.sol()){if(A.align==null){A.align=false}D.indented=F.indentation();D.startOfLine=true}if(F.eatSpace()){return null}s=null;var z=false;var C=(D.tokenize||y)(F,D);if(C=="comment"){return C}if(C=="atom"){return C}if(A.align==null){A.align=true}if(g=="ch"){if(s==null){s="~"}var B=s.charAt(0);var E=A.punc.charAt(0);if(B!=E){if(B=="\\"){i(D)}else{if((/[mM]/.test(B))&&E=="@"){v(D)}else{if(/[mM]/.test(B)){h(D,s);z=true}else{if(/[>-\?#]/.test(B)){h(D,s);z=true}else{if(B=="@"&&E=="|"){h(D,s);z=true}else{if(B=="@"){h(D,s);z=true}else{if(B=="|"&&E=="@"){v(D)}else{if(B=="|"){h(D,s);z=true}else{h(D,s);z=true}}}}}}}}}else{if(B=="@"){A.indented=D.column-A.column;D.column=A.column}}}else{D.column=D.column+A.indented;A.indented=0}A.doIndent=z;return C},indent:function(D,A){if(D.tokenize!=y&&D.tokenize!=null){return 0}var z=D.context,C=A&&A.charAt(0);if(z.indented!=0){var B=z.indented+z.column;D.context.indented=0;return B}if(z.doIndent){z.doIndent=false;return(z.column+p)}return z.column},electricChars:"@|",fold:"brace",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}});a.defineMIME("text/x-svx","svx")});